<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>404: Feelings Found ‚Äî Ultimate Chaos RPG</title>

<style>
body {
    background:#0F0F1A;
    color:#F1F1F1;
    font-family:monospace;
    text-align:center;
    padding-top:40px;
    transition: background 1s ease;
}
h1 {color:#00F0FF; text-shadow:0 0 15px #00F0FF;}
.terminal {
    background:#1A1A2E;
    width:85%;
    max-width:750px;
    margin:20px auto;
    padding:20px;
    border:2px solid #00F0FF;
    border-radius:10px;
    min-height:200px;
    text-align:left;
    overflow-y:auto;
}
input {
    width:80%;
    padding:10px;
    margin-top:10px;
    background:#1A1A2E;
    color:white;
    border:2px solid #00F0FF;
    border-radius:5px;
    font-family:monospace;
}
.barBox {width:80%; margin:15px auto; text-align:left;}
.bar {
    height:25px;
    border:2px solid #00F0FF;
    border-radius:10px;
    background:#1A1A2E;
    overflow:hidden;
}
.fill {height:100%; width:40%; background:linear-gradient(90deg,#00F0FF,#9D4EDD); transition:width 0.3s ease;}
.hpFill {background:linear-gradient(90deg,#ff004c,#ff7a00);}
.bossFill {background:linear-gradient(90deg,#ff0000,#800000);}
button {
    margin:6px;
    padding:8px 15px;
    border:2px solid #00F0FF;
    background:none;
    color:#00F0FF;
    border-radius:5px;
    cursor:pointer;
}
button:hover {box-shadow:0 0 10px #00F0FF;}
.hidden-img {display:none; width:200px; margin:10px auto; border:2px solid #00F0FF; border-radius:5px;}
</style>
</head>

<body>

<h1>404: Feelings Found</h1>

<!-- PASSWORD SCREEN -->
<div id="passwordScreen">
    <p>Enter password to access the game:</p>
    <input id="passwordInput" placeholder="Type password here & press Enter">
    <p id="passwordMessage"></p>
</div>

<!-- GAME SCREEN -->
<div id="gameScreen" style="display:none;">
    <div class="terminal" id="terminal"></div>
    <input id="input" placeholder="Type commands & press Enter">

    <h3>Level: <span id="levelText">1</span></h3>

    <div class="barBox">
        XP: <span id="xpText">40%</span>
        <div class="bar"><div class="fill" id="xpBar"></div></div>
    </div>

    <div class="barBox">
        HP: <span id="hpText">100</span>
        <div class="bar"><div class="fill hpFill" id="hpBar"></div></div>
    </div>

    <div class="barBox" id="bossBarBox" style="display:none;">
        Boss HP: <span id="bossHPText"></span>
        <div class="bar"><div class="fill bossFill" id="bossBar"></div></div>
    </div>

    <div class="buttons">
        <button onclick="startSecret()">Secret Math</button>
        <button onclick="startBoss()">Boss Fight</button>
        <button onclick="levelUp(20)">XP Boost</button>
        <button onclick="search()">Search</button>
        <button onclick="resetGame()">Reset</button>
    </div>

    <img src="secret1.jpg" class="hidden-img" id="secretImg1">
    <img src="secret2.jpg" class="hidden-img" id="secretImg2">
</div>

<script>
/******** PASSWORD FEATURE ********/
const passwordInput = document.getElementById("passwordInput");
const passwordMessage = document.getElementById("passwordMessage");
const passwordScreen = document.getElementById("passwordScreen");
const gameScreen = document.getElementById("gameScreen");
const correctPassword = "buffpigeon";

passwordInput.addEventListener("keydown", function(e){
    if(e.key === "Enter"){
        if(this.value === correctPassword){
            passwordScreen.style.display = "none";
            gameScreen.style.display = "block";
            type("> Password accepted ‚Äî welcome agent!");
            this.value = "";
        } else {
            passwordMessage.innerText = "‚ùå Wrong password! Try again.";
            this.value = "";
        }
    }
});

/******** GAME VARIABLES ********/
let xp=40, level=1, hp=100, combo=0;
let bossHP=0, bossMode=false, secretMode=false;
let currentAnswer=null;
let achievements=[];
let enemies=["Gremlin","Trickster","Dark Hacker","Phantom Glitch"];
let enemyHP=0, enemyActive=false;

// Terminal typing
const terminal=document.getElementById("terminal");
function type(msg,speed=15){
  const p=document.createElement("p");
  terminal.appendChild(p);
  let i=0;
  function t(){
    if(i<msg.length){p.textContent+=msg[i++];setTimeout(t,speed);terminal.scrollTop=terminal.scrollHeight;}
  }
  t();
}

// XP & Level
function updateXP(){document.getElementById("xpBar").style.width=xp+"%";document.getElementById("xpText").innerText=xp+"%";}
function levelUp(amount=10){
    xp+=amount;
    type("+"+amount+" XP");
    if(xp>=100){
        xp=0;
        level++;
        document.getElementById("levelText").innerText=level;
        type("üéâ LEVEL "+level+" UNLOCKED");
        unlock("Level "+level);
    }
    updateXP();
}

// HP
function updateHP(){document.getElementById("hpBar").style.width=hp+"%";document.getElementById("hpText").innerText=hp;}
function damage(d){
    hp-=d;
    if(hp<0) hp=0;
    type("‚ö† Took "+d+" damage");
    updateHP();
    if(hp===0){type("üíÄ GAME OVER");alert("Game Over!");hp=100;updateHP();}
}

// Math Question
function generate(){let a=Math.floor(Math.random()*level*5)+1,b=Math.floor(Math.random()*level*5)+1; currentAnswer=a+b; return a+" + "+b+" = ?";}

// Secret Math
function startSecret(){secretMode=true;bossMode=false;type("Solve to gain XP:");type(generate());}

// Boss
function startBoss(){
    bossMode=true;
    secretMode=false;
    bossHP=100;
    document.getElementById("bossBarBox").style.display="block";
    document.getElementById("bossHPText").innerText=bossHP;
    updateBoss();
    type("üö® BOSS BATTLE STARTED üö®");
    type(generate());
}
function updateBoss(){document.getElementById("bossBar").style.width=bossHP+"%"; document.getElementById("bossHPText").innerText=bossHP;}

// Achievements
function unlock(name){
    if(!achievements.includes(name)){
        achievements.push(name);
        type("üèÜ Achievement Unlocked: "+name);
    }
}

// Enemy Random Encounters
function search(){
    let chance=Math.random();
    if(chance<0.6){type("You found nothing..."); return;}
    enemyActive=true;
    secretMode=false; bossMode=false;
    let idx=Math.floor(Math.random()*enemies.length);
    let enemy=enemies[idx];
    enemyHP=50+level*5;
    type(`üëæ ${enemy} appears! HP: ${enemyHP}`);
    type("Solve math to attack!");
    currentAnswer=Math.floor(Math.random()*level*10)+1+Math.floor(Math.random()*level*10)+1;
    type(`${currentAnswer} - type this number exactly to attack!`);
}

// Attack check + Secret image unlock
const input=document.getElementById("input");
input.addEventListener("keydown",function(e){
  if(e.key==="Enter"){
    let val=Number(this.value);
    if(secretMode||bossMode||enemyActive) check(val);
    else{
        switch(this.value.toLowerCase()){
            case "unlock color":
                const colors=["#0F0F1A","#1A0F2E","#0F1A1A","#2E0F1A"];
                document.body.style.backgroundColor=colors[Math.floor(Math.random()*colors.length)];
                type(">> Background color changed.");
                break;
            case "math": type("Try calculating: "+generate()); secretMode=true; break;
            case "hello": type(">> Hello there, agent!"); break;
            case "help": type("Commands: unlock color, math, hello, exit"); break;
            case "exit": type("Exiting game..."); resetGame(); break;
            default: type(">> Unknown command. Type 'help'");
        }
    }
    this.value="";
  }
});

function check(val){
    if(val===currentAnswer){
        combo++;
        let mult=1+combo*0.1;
        if(secretMode){
            let reward=Math.floor(20*mult);
            type("Correct! +"+reward+" XP");
            levelUp(reward);

            // Unlock random secret image
            const imgId = Math.random()<0.5 ? "secretImg1":"secretImg2";
            document.getElementById(imgId).style.display="block";
            type("üéâ Secret image unlocked!");

            secretMode=false;
        }
        else if(bossMode){
            let dmg=20;
            bossHP-=dmg;
            type("Boss -"+dmg+" HP");
            updateBoss();
            if(bossHP<=0){type("üî• BOSS DEFEATED"); unlock("Boss Slayer"); levelUp(50); bossMode=false; document.getElementById("bossBarBox").style.display="none";} else type(generate());
        }
        else if(enemyActive){
            let dmg=15;
            enemyHP-=dmg;
            type("Enemy -"+dmg+" HP");
            if(enemyHP<=0){type("‚úÖ Enemy defeated! +20 XP"); levelUp(20); enemyActive=false;} else {currentAnswer=Math.floor(Math.random()*level*10)+1+Math.floor(Math.random()*level*10)+1; type("Next attack number: "+currentAnswer);}
        }
    } else {combo=0; damage(15);}
}

// Reset
function resetGame(){
    xp=40; level=1; hp=100; combo=0; bossMode=false; secretMode=false; enemyActive=false;
    terminal.innerHTML="";
    document.getElementById("bossBarBox").style.display="none";
    updateXP(); updateHP();
    document.getElementById("levelText").innerText=level;
    type("> system reset...");
}

// Initial XP/HP
updateXP(); updateHP();
type("> system booted ‚Äî ready for chaos");
</script>

</body>
</html>
